---
title: "PJFM - Project factory manager"
linkTitle: "PJFM cli"
description: >
  Работа с кастомными проектами фабрики
---
 
# PJFM - Project factory manager

`npm i pjfm -g`

Основная задача `Project factory manager` вывести работу с фабрикой при производстве кастома к уровню обычной работы с проектом.

Разработчик зная нюансы фабрики, и настройки компонентов, использовать `рецепт сборки` чтобы билдер выступая в роли менеджера проекта выполнял синхронизацию компонентов фабрики. Например: Нужно поменять цвет у карточки блюда, разработчик поменяет его в `recipe.json` и выполнит комманду `fm sync` менеджер проекта выполнит перенос компонентов в нужные папки и проведет их модификацию. 

Для реализации кастомных компонентов, страниц, сервисов и тд. разработчик должен быть внимателен что лежит в файле `.gitignore` так как при выполенении синхронизации проекта файлы могут быть перезатерты.

Дополнительной опцией билдера реализована защита от потери данных, путем копирования файлов перед выполнением `sync` в папку `.Thrash` в корне проекта

* Фабричные компоненты не будут попадать в репозиторий проекта. (будут добавлены в `.gitignore`)
* Если файл попадает в репозиторий то билдер пропустит блок рецепта. 
* Лейоут создается один раз при инициализации проекта  `fm init` 

Комманды:

1. `init` - создание проекта для кастома
2. `sync` - синхронизация проекта с фабрикой по рецепту


Файл .factoryrc
```
{
  "components-library": "./../components",  // by default ./factory
  "recipe": "./.ci/recipe.json",            // by default ./recipe.json
  "components-library-version": "^1.0.0",   // not required 
  "disable-thrash": "true"                  // false by default
  "projects": {
    "pj1": "projects/pj1",
    "pj2": "projects/pj2"
  }
}

```