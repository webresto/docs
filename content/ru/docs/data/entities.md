---
title: "Сущности"
linkTitle: "Сущности"
description: >
 Описание типов данных
---

# Совместимость

Если мы определяем понятие базовых сушьностей то модули бекенда могут стыковатся через модели базовых сущностей с компонетами фронтенда. В противном случае стоит указать что базовая сушьность обратно-совместима с новой сушьностью, или вообще не совместима. Таким образом мы сможем определить правила по которым билдер будет предлагать компоненты в зависимости от того что стоит на беке

например, все сушьности которые сдесь описаны являются base. А это значит что новые модули будут либо расширять базовые наборы сушьностей, либо будут не совместимы.


# Навигация

Вся навигация получается фронтедом по запросу  graphql  `{navigations { ... }}` , и в дальнейшем обновляется по подписке  `{subscribe navigations { ... }}`


```graphql
# для тестирования
{navigations {
  options
  navigation_menu
}}

```

Название ключей options не чувствительны к регистру.  

## Меню блюд и разделы меню блюд
Меню блюд может быть 4 типов

Признаком того что конкретный обьект является навигацией по меню блюд, является свойство в `{ options.specification: "RestoMenu/v1"}`

### Базовый элемент:

```json
      
    {
    "label": "Блинчики", // Название пункта меню *
    "groupSlug": "blinchiki", //Слаг группы *
    "workTime": "10:00-12:00", // Время работы ( Поле существует для бекэнда, на фронтенде происходит обновление по подписке)
    "active": true, // Дизейбл (реагирует на нажатие) (необязательное поле, по умолчанию считаем что true)
    "enable": true, // Показывать ли пункт меню (необязательное поле, по умолчанию считаем что true)
    }

```

> PS `controller` не используется для меню блюд.


### Типы обработки:
Дает возможность по разному реализовать поведение пунктов меню. Для этого нужно установить свойство `{ options.behavior: "NewPageBySlug"}` 

Свойство: если не установленно то по дефолту рендрит 3 тип.
Если массив пустой и есть initSlug то рендрит по второму типу
Если массив пустой и нету `initSlug` то будет ошибка


1. `NewPageBySlug` Построение через initSlug где каждый раздел создается на своей странице
2. `OnePageBySlug` Построение через initSlug где все подразделы на одной страницы с навигацией по # (переход реализуется прокруткой)
3. `NewPageByNavigationMenu` Построение из меню которое пришло в navigation_menu где каждый раздел создается на своей странице 
4. `OnePageByNavigationMenu` Построение из меню которое пришло в navigation_menu где все разделы аккамулируются на одной странице, акамуляция происходит по массиву из `navigation_menu` с учетом очереди

Пример:

В текущем примере установленно значение NewPageByNavigationMenu это означает что при обработке меню фронтенд проигнорирует свойство initSlug

```json

  {
    "mnemonicId": "menu",
    "description": "Dish menu for delivery food website 2",
    "navigation_menu": [
      {
        "label": "Снэк",
        "slug": "snek",
        "active": true,
        "controller": "menu"
      },
      {
        "label": "Пицца",
        "slug": "picca",
        "active": true,
        "controller": "menu"
      },
      {
        "label": "Бургеры",
        "slug": "burgery",
        "active": true,
        "controller": "menu"
      }
    ],
    "options": {
      "behavior": "NewPageByNavigationMenu",
      "initGroupSlug": "dostavka"
    }
  }

```

---

# Акции

Слайды акций имеют три разрешения

imageDesktop: `1920х510` px 
imageTablet: `1280х510` px
imagePhone: `720х510` px

Для всех слайдов предусмотрен вариант картинки для retina: @x2 Эту картинку можно найти в json соответвующего image

Сортировку нужно производить по свойству order, по возрастанию числа.

линк для перехода по mnemonicId делает лейоут

Пример картинки 

> GraphQL scalar type (Не типизировано)

```
[

    {
        "id": 1,
        "name": "420x315.jpg",
        "url": "/seed_images/420x315.jpg",
        "url@2x": "/seed_images/420x315.jpg",
        "url@0.5x": "/seed_images/420x315,
        "width": 420,
        "height": 315
    }

]

```

Для retina предусмотерна url@2x, 


--- 

# Отзывы

Отзывы представлены в виде простого обьекта. 
Для того чтобы оставить отзыв существует специальная мутация.

> Для режима разработки все отзывы появляются автоматически без модерации

```
{
    
}


```